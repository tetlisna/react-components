exports.id=249,exports.ids=[249],exports.modules={6201:e=>{e.exports={button:"Button_button__exqP_"}},8322:e=>{e.exports={details:"Details_details___T7cb",detailsCard:"Details_detailsCard__W0GuU",closeBtn:"Details_closeBtn__y0U5e"}},8873:e=>{e.exports={itemCard:"Item_itemCard__TRLvA",itemImage:"Item_itemImage__UdaqQ",articleBtn:"Item_articleBtn__1QN_V"}},9973:e=>{e.exports={overlay:"ListItems_overlay__u1Tnp",itemsContainer:"ListItems_itemsContainer__vCbcS"}},4514:e=>{e.exports={loadingSpinner:"Loading_loadingSpinner__iZ_TA",spinner:"Loading_spinner__nyZZa"}},9531:e=>{e.exports={header:"Navbar_header__heI4K"}},600:e=>{e.exports={pagination:"Pagination_pagination__c7olK",select:"Pagination_select__u_OEq",paginationItem:"Pagination_paginationItem___M0MX",active:"Pagination_active__xC1TQ"}},6464:e=>{e.exports={container:"Root_container__9wNDo",rightSection:"Root_rightSection__DkY2I",leftSection:"Root_leftSection__0JjhC"}},6343:e=>{e.exports={searchInput:"SearchSection_searchInput__ZfJKC",searchBtn:"SearchSection_searchBtn__ckfyn",searchIconWrapper:"SearchSection_searchIconWrapper__tcDDC",searchIcon:"SearchSection_searchIcon__2yx_d"}},2945:e=>{e.exports={wrapper:"Wrapper_wrapper___E3LO"}},8161:(e,t,r)=>{"use strict";r.d(t,{K$:()=>h,ZP:()=>m,a_:()=>c,n6:()=>u,ql:()=>p,sT:()=>d});var a=r(5184),s=r(2554);let i={searchQuery:"",data:[],dataAll:[],isFetching:!0,isError:!1,totalCount:0,totalPages:0,itemsPerPage:s.gK.Ten,currentPage:1,searchedItems:[]},n=(0,a.createSlice)({name:"items",initialState:i,reducers:{setAllData:(e,t)=>{e.dataAll=t.payload,e.isFetching=!1},setData:(e,t)=>{e.data=t.payload,e.isFetching=!1},setError:e=>{e.isError=!0,e.isFetching=!1},setTotalCount:(e,t)=>{e.totalCount=t.payload},setTotalPages:(e,t)=>{e.totalPages=t.payload},setItemsPerPage:(e,t)=>{e.itemsPerPage=t.payload},setSearchQuery:(e,t)=>{e.searchQuery=t.payload},setCurrentPage:(e,t)=>{e.currentPage=t.payload},setSearchedItems:(e,t)=>{e.searchedItems=t.payload}}}),{setAllData:l,setData:c,setError:d,setTotalCount:o,setTotalPages:h,setItemsPerPage:u,setSearchQuery:p,setCurrentPage:g}=n.actions,m=n.reducer},9575:(e,t,r)=>{"use strict";r.d(t,{Y:()=>c,h:()=>l});var a=r(5184),s=r(4562),i=r(8161),n=r(5648);let l=(0,a.configureStore)({reducer:{items:i.ZP,[s.hi.reducerPath]:s.hi.reducer},middleware:e=>e().concat(s.hi.middleware)}),c=(0,n.createWrapper)(()=>l)},8068:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var a=r(997),s=r(6201),i=r.n(s);let n=({value:e,type:t,handler:r,disabled:s,addClass:n})=>a.jsx("button",{className:`${i().button} ${n||""}`,onClick:r,type:t,disabled:s,children:e})},5749:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var a=r(997),s=r(4514),i=r.n(s);let n=()=>a.jsx("div",{className:i().loadingSpinner,"data-testid":"loading"})},856:(e,t,r)=>{"use strict";r.d(t,{C:()=>i,T:()=>s});var a=r(6022);let s=()=>(0,a.useDispatch)(),i=a.useSelector},2554:(e,t,r)=>{"use strict";var a,s;r.d(t,{gK:()=>a,pD:()=>n,yA:()=>i});let i="https://starwars-visualguide.com/assets/img/characters",n="https://swapi.dev/api/people";(function(e){e[e.Five=5]="Five",e[e.Ten=10]="Ten",e[e.TwentyFive=25]="TwentyFive",e[e.Forty=40]="Forty"})(a||(a={})),function(e){e.index="/",e.list="/list",e.id=":id",e.page="page/",e.pagePage="page/:page",e.details="details/:id",e.all="*",e.basename="/react-components"}(s||(s={}))},4807:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var a=r(997);r(108);var s=r(9575),i=r(6022);let n=({Component:e,...t})=>{let{store:r,props:n}=s.Y.useWrappedStore(t),{pageProps:l}=n,c=e.getLayout??(e=>e);return c(a.jsx(i.Provider,{store:r,children:a.jsx(e,{...l})}))}},4133:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m,getServerSideProps:()=>x});var a=r(997),s=r(9575),i=r(4562),n=r(1664),l=r.n(n),c=r(5749),d=r(856),o=r(6689),h=r(8161),u=r(1163),p=r(8322),g=r.n(p);let m=()=>{let e=(0,d.T)(),t=(0,u.useRouter)(),{page:r}=t.query;(0,o.useEffect)(()=>{s()},[e]);let s=()=>{e((0,h.a_)([]))},{data:n,isFetching:p,isError:m}=(0,i.o3)(Number(t.query.id));return a.jsx("div",{className:g().details,children:p&&!m?a.jsx(c.Z,{}):n?(0,a.jsxs)(a.Fragment,{children:[a.jsx(l(),{href:r?`/page/${r}`:"/",className:g().closeBtn,"data-testid":"closeBtn"}),(0,a.jsxs)("article",{className:g().detailsCard,"data-testid":"item-card",children:[a.jsx("h2",{"data-testid":"name",children:n.name}),(0,a.jsxs)("p",{"data-testid":"eye_color",children:[a.jsx("strong",{children:"Eye color: "}),n.eye_color]}),(0,a.jsxs)("p",{"data-testid":"gender",children:[a.jsx("strong",{children:"Gender: "}),n.gender]}),(0,a.jsxs)("p",{"data-testid":"birth_year",children:[a.jsx("strong",{children:"Birth year: "}),n.birth_year]})]})]}):""})},x=s.Y.getServerSideProps(e=>async t=>{let r=t.params?.id;return"string"==typeof r&&e.dispatch(i.Xt.initiate(Number(r))),{props:{}}})},9618:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>W});var a=r(997),s=r(4661),i=r(856),n=r(1664),l=r.n(n),c=r(4562),d=r(1049),o=r(5749);let h=(e,t)=>e.filter(e=>e.name.toLowerCase().includes(t.toLowerCase())),u=(e,t)=>{let r=e.length,a=Array.from({length:Math.ceil(r/t)},(e,t)=>t+1);return a},p=(e,t,r)=>{let a=e.length,s=(t-1)*r,i=r*t;return e=i>a?e.slice(s):e.slice(s,i)};var g=r(9973),m=r.n(g),x=r(1163),_=r(4133);let j=()=>{let{data:e=[],isFetching:t,isError:r}=(0,c.tg)(),s=(0,x.useRouter)(),n=s.query.page,u=s.query.id,{searchQuery:g,itemsPerPage:j}=(0,i.C)(e=>e.items),y=h(e,g);return y=p(y,Number(n)||1,j),a.jsx("div",{className:m().itemsContainer,"data-testid":m().itemsContainer,children:t||r?a.jsx(o.Z,{}):(0,a.jsxs)(a.Fragment,{children:[y?.length===0?a.jsx("div",{children:"No items found."}):y?.map(e=>a.jsx(d.Item,{...e},e.url)),u?(0,a.jsxs)(a.Fragment,{children:[a.jsx(_.default,{}),a.jsx(l(),{id:"overlay",href:"/"})]}):""]})})};var y=r(2554),v=r(600),f=r.n(v),S=r(8161);let C=()=>{let e=(0,i.T)(),{itemsPerPage:t,totalPages:r,searchQuery:s}=(0,i.C)(e=>e.items),{data:n=[]}=(0,c.tg)();n=h(n,s);let d=u(n,t);return a.jsx("nav",{className:f().pagination,children:(0,a.jsxs)("ul",{children:[(0,a.jsxs)("select",{onChange:function(t){let a=Number(t.target.value);e((0,S.n6)(Number(a))),e((0,S.K$)(Number(r)))},defaultValue:y.gK.Ten,className:f().select,children:[a.jsx("option",{value:y.gK.Five,children:y.gK.Five}),y.gK.Five,a.jsx("option",{value:y.gK.Ten,children:y.gK.Ten}),a.jsx("option",{value:y.gK.TwentyFive,children:y.gK.TwentyFive}),a.jsx("option",{value:y.gK.Forty,children:y.gK.Forty})]}),d.map((e,t)=>a.jsx(l(),{className:f().paginationItem,href:`/page/${e}`,children:e},t))]})})};var N=r(6689),I=r(6343),P=r.n(I),b=r(9583),T=r(8068);let F=()=>{let e=(0,i.T)(),{push:t}=(0,x.useRouter)(),[r,s]=(0,N.useState)(""),n=(0,i.C)(e=>e.items.searchQuery||"");(0,N.useEffect)(()=>{l()},[e]);let l=()=>{e((0,S.sT)())};return(0,a.jsxs)("section",{className:P().searchContainer,children:[a.jsx("h1",{children:"React Search"}),(0,a.jsxs)("form",{onSubmit:a=>{a.preventDefault(),t("/page"),r?(localStorage.setItem("searchQuery",r.trim()),e((0,S.ql)(r))):e((0,S.ql)(""))},children:[(0,a.jsxs)("div",{className:P().searchIconWrapper,children:[a.jsx(b.Ozl,{className:P().searchIcon}),a.jsx("input",{placeholder:"Search...",name:"search",type:"search",className:P().searchInput,"aria-label":"search",defaultValue:n,onChange:e=>s(e.target.value)})]}),a.jsx(T.Z,{type:"submit",addClass:P().searchBtn,value:"Search"})]})]})};var w=r(2945),K=r.n(w);let B=({children:e})=>a.jsx("div",{className:K().wrapper,children:e});var D=r(6464),q=r.n(D);let E=()=>{let e=(0,i.T)();return a.jsx("div",{id:"sidebar",children:a.jsx(B,{children:(0,a.jsxs)("div",{className:q().container,children:[(0,a.jsxs)("section",{className:q().rightSection,children:[a.jsx(F,{}),a.jsx(T.Z,{type:"submit",addClass:q().searchBtn,value:"Error!",handler:function(){e((0,S.sT)())}}),a.jsx(C,{}),a.jsx(j,{})]}),a.jsx("section",{className:q().leftSection,children:a.jsx(s.Outlet,{})})]})})})};var $=r(9575),Z=r(6022);class A extends N.Component{constructor(e){super(e),this.state={isError:!1,errorMessage:""}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error: ",e,t),this.setState({isError:!0,errorMessage:e.message})}render(){return this.state.isError?(0,a.jsxs)("div",{style:{padding:"2rem"},children:[a.jsx("h1",{children:"Something went wrong."}),a.jsx("p",{children:this.state.errorMessage}),a.jsx("p",{children:"Reload the page."})]}):this.props.children}}var L=r(9531),Q=r.n(L);let R=()=>a.jsx("header",{children:a.jsx("nav",{children:a.jsx(l(),{href:"/","aria-label":"Go to home",className:Q().header,children:"Home"})})});function M({children:e}){return a.jsx(Z.Provider,{store:$.h,children:(0,a.jsxs)(A,{children:[a.jsx(R,{}),e]})})}function W(){return a.jsx(M,{children:a.jsx(E,{})})}},1049:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Item:()=>_,default:()=>m,getServerSideProps:()=>x});var a=r(997),s=r(9618),i=r(9575),n=r(4562),l=r(1664),c=r.n(l),d=r(2554),o=r(8873),h=r.n(o),u=r(1163),p=r(5675),g=r.n(p);let m=s.default,x=i.Y.getServerSideProps(e=>async t=>{let r=t.params?.id;return"string"==typeof r&&e.dispatch(n.Xt.initiate(Number(r))),{props:{}}}),_=e=>{let{name:t,url:r,eye_color:s,birth_year:i,gender:n}=e,l=r.split("/");l.pop();let o=l[l.length-1],p=(0,u.useRouter)(),{page:m}=p.query;return(0,a.jsxs)("article",{className:h().itemCard,"data-testid":h().itemsCard,children:[a.jsx(c(),{href:m?`/page/${m}/details/${o}`:`/details/${o}`,children:a.jsx("button",{className:h().articleBtn,"data-testid":"detailsBtn",children:"Details"})}),a.jsx(g(),{src:`${d.yA}/${o}.jpg`,alt:"Photo of "+t,className:h().itemImage,width:150,height:150,priority:!0}),a.jsx("h2",{"data-testid":"name",children:t}),(0,a.jsxs)("p",{"data-testid":"eye_color",children:[a.jsx("strong",{children:"Eye color: "}),s]}),(0,a.jsxs)("p",{"data-testid":"gender",children:[a.jsx("strong",{children:"Gender: "}),n]}),(0,a.jsxs)("p",{"data-testid":"birth_year",children:[a.jsx("strong",{children:"Birth year: "}),i]})]})}},4562:(e,t,r)=>{"use strict";r.d(t,{Xt:()=>d,hi:()=>i,o3:()=>l,tg:()=>n});var a=r(4335),s=r(2554);let i=(0,a.createApi)({baseQuery:(0,a.fetchBaseQuery)({baseUrl:s.pD}),endpoints:e=>({itemsList:e.query({async queryFn(e,t,r,a){let{data:{count:i}}=await a("");if(0===i)return{data:[]};let n=Math.ceil(i/s.gK.Ten),l=await Promise.all([...Array(n).keys()].map(async e=>{let{data:t}=await a(`?page=${e+1}`);return t.results}));return{data:l.flat()}}}),itemDetail:e.query({query:e=>({url:`/${e}`})})})}),{useItemsListQuery:n,useItemDetailQuery:l}=i,{itemsList:c,itemDetail:d}=i.endpoints},108:()=>{}};